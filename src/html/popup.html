<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shortcut Assistant</title>
    <link href="../styles/output.css" rel="stylesheet">
    <style>
        body {
            width: 300px;
        }
    </style>
</head>
<body class="bg-gray-800 text-white p-4">
<div id="errorState" role="alert" class="alert alert-error flex items-center mb-4" style="display: none">
  <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
  <span>Error communicating w/ OpenAI. Please try again later.</span>
</div>
<div class="tabs tabs-boxed tabs-sm" role="tablist">
    <a id="notesTab" role="tab" class="tab tab-active">Notes</a>
    <a id="settingsTab" role="tab" class="tab">Settings</a>
    <a id="infoTab" role="tab" class="tab indicator">
        Info
        <span class="indicator-item badge badge-secondary"></span>
    </a>
</div>

<div id="actionsSection" class="pt-4">
    <textarea id="storyNotes" class="bg-gray-700 text-white font-bold py-2 px-4 rounded w-full" placeholder="Add story notes..."></textarea>
    <div class="text-right">
        <button style="margin-bottom: 10px; margin-top: 5px" id="saveButton" class="mt-4 btn btn-outline btn-xs text-white font-bold">
            Save
        </button>
    </div>
</div>

<div id="settingsSection" class="hidden pt-4 mb-4" style="margin-bottom: 10px">
    <div class="flex items-center form-control" style="margin-bottom: 10px">
        <label for="todoistOptions" class="text-white font-bold">
        <input type="checkbox" id="todoistOptions" class="checkbox checkbox-xs" checked>
            <span class="label-text">&nbsp;Todoist Shortcuts</span>
        </label>
    </div>
    <div class="flex items-center">
        <input id="openAIToken" type="password" class="input input-sm input-bordered flex mr-4 mb-2" placeholder="OpenAI API Key">
        <div class="text-right">
            <button style="margin-bottom: 10px; margin-top: 5px" id="saveKeyButton" class="btn btn-outline btn-xs">
                Save
            </button>
        </div>
    </div>
        <div class="divider"></div>

    <div id="newAiFeatures">
        <div class="flex items-center">
            <input id="shortcutToken" type="password" class="input input-sm input-bordered flex mr-4 mb-2" placeholder="Shortcut API Key">
        </div>
        <p class="text-gray-400 text-xs mb-2">
            This is required to enable advanced AI features. For added security, you must click "Authenticate" to log in with Google before we will save the Shortcut API Key on our end.
        </p>
        <div class="flex items-center">
            <div class="text-right">
                <button style="margin-bottom: 10px; margin-top: 5px" id="oauth" class="btn btn-outline btn-xs">
                    Authenticate
                </button>
            </div>
        </div>
    </div>
</div>

<div id="infoSection" class="hidden flex flex-col w-full" style="margin-bottom: 10px">
    <div class="text-center mt-4">
        <h3 class="text-lg font-bold text-white mb-2">Keyboard Shortcuts</h3>
        <span class="text-gray-400">Windows: Replace Cmd with Ctrl</span>
        <br/>
        <kbd class="kbd">Cmd</kbd> + <kbd class="kbd">Shift</kbd> + <kbd class="kbd">S</kbd> - Change State<br>
        <kbd class="kbd">Cmd</kbd> + <kbd class="kbd">Shift</kbd> + <kbd class="kbd">I</kbd> - Change Iteration<br>
        <kbd class="kbd">Cmd</kbd> + <kbd class="kbd">Shift</kbd> + <kbd class="kbd">E</kbd> - Change Estimate<br>
    </div>
    <div class="divider"></div>
    <div class="text-center mb-4">
        <h3 class="text-lg font-bold text-white mb-2">Extension Information</h3>
        <p id="versionInfo" class="text-gray-400"></p>
        <div class="indicator">
            <a id="changelog" class="text-gray-400 hover:text-white cursor-pointer" href="updated.html" target="_top">What's New</a>
            <span id="whatsNewBadge" class="indicator-item badge badge-secondary"></span>
        </div><br>
    </div>
    <div class="flex justify-center items-center gap-2">
        <a href="https://github.com/JensAstrup/shortcut-assistant" target="_blank" class="btn btn-outline btn-xs mb-2">GitHub</a>
        <a href="https://status.jensastrup.io" target="_blank" class="btn btn-outline btn-xs mb-2">Status Page</a>
        <a href="https://shortcut-assistant.jensastrup.io/privacy" target="_blank" class="btn btn-outline btn-xs mb-2">Privacy Policy</a>
    </div>
</div>
</body>
<script type="module" src="../js/popup/bundle.js"></script>
<script type="module" src="../js/analyze/analyze.js"></script>
</html>
